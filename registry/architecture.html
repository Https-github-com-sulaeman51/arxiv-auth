
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Architecture &#8212; arXiv AuthN/Z 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="arxiv.users package" href="arxiv.users/arxiv.users.html" />
    <link rel="prev" title="arXiv Authorization &amp; Authentication" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<p>The accounts and authorization subsystem is responsible for providing user
accounts and profiles as well as mechanisms for authentication and
authorization. This subsystem also provides the API client portal, which
supports generation of application tokens, OAuth2 workflows, and a public
API client application portal that end-users can use to discover tools and
services built on top of arXiv APIs.</p>
<p>The arXiv platform provides both anonymous and authenticated interfaces to
end-users (including moderators), API clients, and the arXiv operations team.
This project provides applications and libraries to support authentication and
authorization, including account creation and login, user sessions, and API
token management. TLS is considered an infrastructure concern, and is therefore
out of scope (albeit critical) for this project.</p>
<div class="section" id="objectives-requirements">
<h2>Objectives &amp; Requirements<a class="headerlink" href="#objectives-requirements" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Users must be able to register for and log in to the arXiv site, and
interact with parts of the platform that require authentication, and do
so securely.</li>
<li>Once logged in, a user should be able to access services/endpoints for which
they are authorized regardless of where that service is deployed.</li>
<li>API clients must be able to authenticate with the arXiv site, and obtain
secure authorization tokens using OAuth2 protocols.</li>
<li>Administrators must be able to grant and revoke authorization for specific
actions and services within the arXiv platform, using a role-based system.</li>
<li>It must be possible to revoke access from a user or client, and have that
revocation take effect immediately.</li>
<li>Accessing authentication and authorization information in an arXiv
service/application must not require implementing new integrations; we need
a single, consistent solution for authn/z concerns in Flask applications.</li>
<li>Services/applications deployed in the cloud must be able to obtain authn/z
information without accessing a central database. Services/applications
deployed on-premises must integrate with the legacy database so that users
can seamlessly move between legacy and NG interfaces using the same session.</li>
</ol>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>The objectives above are separated into four distinct concerns, each addressed
by a separate piece of software.</p>
<div class="figure" id="id1">
<span id="figure-authnz-context"></span><a class="reference internal image-reference" href="_images/authnz-context.png"><img alt="_images/authnz-context.png" src="_images/authnz-context.png" style="width: 350px;" /></a>
<p class="caption"><span class="caption-text">System context for authn/z services in arXiv.</span></p>
</div>
<dl class="docutils">
<dt><a class="reference internal" href="arxiv.users/arxiv.users.html#module-arxiv.users" title="arxiv.users"><code class="xref py py-mod docutils literal notranslate"><span class="pre">arxiv.users</span></code></a> Package</dt>
<dd>A Python library that provides middleware and other components for working
with user/client sessions and authorization in arXiv services.</dd>
<dt><a class="reference internal" href="accounts/accounts.html#module-accounts" title="accounts"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Accounts</span> <span class="pre">Service</span></code></a></dt>
<dd>Provides user registration and login mechanisms, access control management,
and user profiles.</dd>
<dt><a class="reference internal" href="authenticator/authenticator.html#module-authenticator" title="authenticator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Authentication</span> <span class="pre">Service</span></code></a></dt>
<dd>Handles authentication subrequests from ingress controllers. Validates
user session keys and API access keys, and generates internal authorization
tokens.</dd>
<dt><a class="reference internal" href="registry/registry.html#module-registry" title="registry"><code class="xref py py-mod docutils literal notranslate"><span class="pre">API</span> <span class="pre">Client</span> <span class="pre">Registry</span></code></a></dt>
<dd>Provides API client/application registration, generation of client keys,
and a public-facing searchable directory of client projects and services.
Also provides API documentation.</dd>
</dl>
<p>The accounts and authenticator services are underlain by a <strong>distributed
keystore</strong> (HA Redis cluster) for registration and validation of session and
access keys.</p>
</div>
<div class="section" id="cross-cutting-concerns">
<h2>Cross-Cutting Concerns<a class="headerlink" href="#cross-cutting-concerns" title="Permalink to this headline">¶</a></h2>
<div class="section" id="role-based-access-control">
<h3>Role-Based Access Control<a class="headerlink" href="#role-based-access-control" title="Permalink to this headline">¶</a></h3>
<p>Access control addresses what users are authorized to access and what users are
authorized to do in the system. The classic arXiv system uses an access control
mechanism similar to the Discretionary Access Control model, in which an Access
Control List specifies what individual users can do in specific areas of the
system and in relation to specific resources. DAC/ACL systems are often
sufficient for systems with a relatively small number of users, but become
difficult to manage as the user base grows or the system becomes more complex.</p>
<p>The NG architecture adopts Role-Based Access Control, in which authorizations
accrue instead to abstract “roles” to which multiple users belong. For example,
several users might belong to a “moderator” role, to which specific
authorizations (e.g. “can propose subject classifications”,
“can view the moderator interface”) are attached. The main advantage of RBAC
is ease of administration: policies can be added to and removed from roles
without consideration of the specific users impacted; users can be granted
a specific set of authorizations by simply adding them to a role, rather than
attaching an array of individual policies directly to the user.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">arXiv AuthN/Z</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#objectives-requirements">Objectives &amp; Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#services">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cross-cutting-concerns">Cross-Cutting Concerns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arxiv.users/arxiv.users.html">arxiv.users package</a></li>
<li class="toctree-l1"><a class="reference internal" href="accounts/accounts.html">Accounts Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="authenticator/authenticator.html">authenticator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry/registry.html">registry package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">arXiv Authorization &amp; Authentication</a></li>
      <li>Next: <a href="arxiv.users/arxiv.users.html" title="next chapter">arxiv.users package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, arXiv.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/architecture.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>