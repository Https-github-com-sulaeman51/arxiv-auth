
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>accounts.controllers.authentication module &#8212; arXiv AuthN/Z 0.1 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="accounts.controllers.captcha_image module" href="accounts.controllers.captcha_image.html" />
    <link rel="prev" title="accounts.controllers package" href="accounts.controllers.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-accounts.controllers.authentication">
<span id="accounts-controllers-authentication-module"></span><h1>accounts.controllers.authentication module<a class="headerlink" href="#module-accounts.controllers.authentication" title="Permalink to this headline">¶</a></h1>
<p>Controllers for arXiv accounts application.</p>
<p>When a user logs in via the accounts service, they are issued a session key
that is stored as a cookie in their browser. That session ID is registered in
the distributed keystore, along with claims about the user’s identity and
privileges in the system (based on their role). In subsequent requests handled
by the UI ingress, the authenticator service uses that session key to validate
the authenticated session, and to retrieve corresponding identity and
authorization information.</p>
<dl class="class">
<dt id="accounts.controllers.authentication.LoginForm">
<em class="property">class </em><code class="descclassname">accounts.controllers.authentication.</code><code class="descname">LoginForm</code><span class="sig-paren">(</span><em>formdata=None</em>, <em>obj=None</em>, <em>prefix=''</em>, <em>data=None</em>, <em>meta=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/accounts/controllers/authentication.html#LoginForm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts.controllers.authentication.LoginForm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">wtforms.form.Form</span></code></p>
<p>Log in form.</p>
<dl class="attribute">
<dt id="accounts.controllers.authentication.LoginForm.password">
<code class="descname">password</code><em class="property"> = &lt;UnboundField(PasswordField, ('Password',), {'validators': [&lt;wtforms.validators.DataRequired object&gt;]})&gt;</em><a class="headerlink" href="#accounts.controllers.authentication.LoginForm.password" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="accounts.controllers.authentication.LoginForm.username">
<code class="descname">username</code><em class="property"> = &lt;UnboundField(StringField, ('Username or e-mail',), {'validators': [&lt;wtforms.validators.DataRequired object&gt;]})&gt;</em><a class="headerlink" href="#accounts.controllers.authentication.LoginForm.username" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="accounts.controllers.authentication.login">
<code class="descclassname">accounts.controllers.authentication.</code><code class="descname">login</code><span class="sig-paren">(</span><em>method</em>, <em>form_data</em>, <em>ip</em>, <em>next_page</em>, <em>track=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/accounts/controllers/authentication.html#login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts.controllers.authentication.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the login form.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>form_data</strong> (<em>MultiDict</em>) – Should include <cite>username</cite> and <cite>password</cite> data.</li>
<li><strong>ip</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – IP or hostname of client.</li>
<li><strong>next_page</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Page to which the user should be redirected upon login.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><em>dict</em> – Additional data to add to the response.</li>
<li><em>int</em> – Status code. This should be 303 (See Other) if all goes well.</li>
<li><em>dict</em> – Headers to add to the response.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="accounts.controllers.authentication.logout">
<code class="descclassname">accounts.controllers.authentication.</code><code class="descname">logout</code><span class="sig-paren">(</span><em>session_cookie</em>, <em>classic_session_cookie</em>, <em>next_page</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/accounts/controllers/authentication.html#logout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#accounts.controllers.authentication.logout" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the user out, and redirect to arXiv.org.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – If not None, invalidates the session.</li>
<li><strong>classic_session_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – If not None, invalidates the session.</li>
<li><strong>next_page</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Page to which the user should be redirected upon logout.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><em>dict</em> – Additional data to add to the response.</li>
<li><em>int</em> – Status code. This should be 303 (See Other).</li>
<li><em>dict</em> – Headers to add to the response.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tuple</span></code>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">arXiv AuthN/Z</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arxiv.users/arxiv.users.html">arxiv.users package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="accounts.html">Accounts Service</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="accounts.html#context">Context</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="accounts.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="accounts.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authenticator/authenticator.html">authenticator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registry/registry.html">registry package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="accounts.html">Accounts Service</a><ul>
  <li><a href="accounts.controllers.html">accounts.controllers package</a><ul>
      <li>Previous: <a href="accounts.controllers.html" title="previous chapter">accounts.controllers package</a></li>
      <li>Next: <a href="accounts.controllers.captcha_image.html" title="next chapter">accounts.controllers.captcha_image module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, arXiv.org.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="../_sources/accounts/accounts.controllers.authentication.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>